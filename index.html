<body>
  <!-- App Logo Loader with Spinner -->
  <div id="preloader" style="
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  ">
    <!-- Logo -->
    <img src="https://i.ibb.co/XxSDpVk1/file-00000000218c622f96bcc6f062f8991e.png" alt="App Logo" style="width: 120px; margin-bottom: 20px;">

    <!-- Spinner -->
    <div style="
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
    "></div>
  </div>

  <!-- Spinner animation CSS -->
  <style>
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>

  <!-- Yeh aapka original page content hai -->
  

<html lang="en"><head>
              <meta charset="utf-8">
              <meta name="viewport" content="width=device-width, initial-scale=1">
              <style>
                body { 
                  margin: 0; 
                  padding: 16px; 
                  background-color: #ffffff;
                }
              </style>
            <style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.relative{position:relative}.bottom-0{bottom:0px}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:0.5rem}.mr-2{margin-right:0.5rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-2\.5{height:0.625rem}.h-24{height:6rem}.h-3{height:0.75rem}.h-4{height:1rem}.h-40{height:10rem}.h-full{height:100%}.max-h-40{max-height:10rem}.min-h-screen{min-height:100vh}.w-24{width:6rem}.w-3{width:0.75rem}.w-4{width:1rem}.w-40{width:10rem}.w-full{width:100%}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-x-2 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:0.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.border{border-width:1px}.border-t{border-top-width:1px}.border-blue-200{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-300{--tw-border-opacity:1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity:1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity:1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity:1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity:1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity:1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity:1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity:1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-100{--tw-bg-opacity:1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-20{padding-bottom:5rem}.pt-4{padding-top:1rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-call{--tw-text-opacity:1;color:rgb(16 185 129 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity:1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity:1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-put{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity:1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity:1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity:1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.shadow{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-200{transition-duration:200ms}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.focus\:border-blue-500:focus{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}@media (min-width: 768px){.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}@media (min-width: 1024px){.lg\:col-span-2{grid-column:span 2 / span 2}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}</style></head>
            <body class="bg-gray-100">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            margin: 0;
            padding: 16px;
            background-color: #ffffff;
        }
    </style>
    <style>
        *, ::before, ::after {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        ::backdrop {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        /* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */
        *, ::after, ::before {
            box-sizing: border-box;
            border-width: 0;
            border-style: solid;
            border-color: #e5e7eb
        }

        ::after, ::before {
            --tw-content: ''
        }

        :host, html {
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
            -moz-tab-size: 4;
            tab-size: 4;
            font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            font-feature-settings: normal;
            font-variation-settings: normal;
            -webkit-tap-highlight-color: transparent
        }

        body {
            margin: 0;
            line-height: inherit
        }

        hr {
            height: 0;
            color: inherit;
            border-top-width: 1px
        }

        abbr:where([title]) {
            -webkit-text-decoration: underline dotted;
            text-decoration: underline dotted
        }

        h1, h2, h3, h4, h5, h6 {
            font-size: inherit;
            font-weight: inherit
        }

        a {
            color: inherit;
            text-decoration: inherit
        }

        b, strong {
            font-weight: bolder
        }

        code, kbd, pre, samp {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-feature-settings: normal;
            font-variation-settings: normal;
            font-size: 1em
        }

        small {
            font-size: 80%
        }

        sub, sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline
        }

        sub {
            bottom: -.25em
        }

        sup {
            top: -.5em
        }

        table {
            text-indent: 0;
            border-color: inherit;
            border-collapse: collapse
        }

        button, input, optgroup, select, textarea {
            font-family: inherit;
            font-feature-settings: inherit;
            font-variation-settings: inherit;
            font-size: 100%;
            font-weight: inherit;
            line-height: inherit;
            letter-spacing: inherit;
            color: inherit;
            margin: 0;
            padding: 0
        }

        button, select {
            text-transform: none
        }

        button, input:where([type=button]), input:where([type=reset]), input:where([type=submit]) {
            -webkit-appearance: button;
            background-color: transparent;
            background-image: none
        }

        :-moz-focusring {
            outline: auto
        }

        :-moz-ui-invalid {
            box-shadow: none
        }

        progress {
            vertical-align: baseline
        }

        ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {
            height: auto
        }

        [type=search] {
            -webkit-appearance: textfield;
            outline-offset: -2px
        }

        ::-webkit-search-decoration {
            -webkit-appearance: none
        }

        ::-webkit-file-upload-button {
            -webkit-appearance: button;
            font: inherit
        }

        summary {
            display: list-item
        }

        blockquote, dd, dl, figure, h1, h2, h3, h4, h5, h6, hr, p, pre {
            margin: 0
        }

        fieldset {
            margin: 0;
            padding: 0
        }

        legend {
            padding: 0
        }

        menu, ol, ul {
            list-style: none;
            margin: 0;
            padding: 0
        }

        dialog {
            padding: 0
        }

        textarea {
            resize: vertical
        }

        input::placeholder, textarea::placeholder {
            opacity: 1;
            color: #9ca3af
        }

        [role=button], button {
            cursor: pointer
        }

        :disabled {
            cursor: default
        }

        audio, canvas, embed, iframe, img, object, svg, video {
            display: block;
            vertical-align: middle
        }

        img, video {
            max-width: 100%;
            height: auto
        }

        [hidden]:where(:not([hidden=until-found])) {
            display: none
        }

        .container {
            width: 100%
        }

        @media (min-width: 640px) {
            .container {
                max-width: 640px
            }
        }

        @media (min-width: 768px) {
            .container {
                max-width: 768px
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: 1024px
            }
        }

        @media (min-width: 1280px) {
            .container {
                max-width: 1280px
            }
        }

        @media (min-width: 1536px) {
            .container {
                max-width: 1536px
            }
        }

        .fixed {
            position: fixed
        }

        .relative {
            position: relative
        }

        .bottom-0 {
            bottom: 0px
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto
        }

        .mb-1 {
            margin-bottom: 0.25rem
        }

        .mb-2 {
            margin-bottom: 0.5rem
        }

        .mb-3 {
            margin-bottom: 0.75rem
        }

        .mb-4 {
            margin-bottom: 1rem
        }

        .mb-6 {
            margin-bottom: 1.5rem
        }

        .mb-8 {
            margin-bottom: 2rem
        }

        .ml-2 {
            margin-left: 0.5rem
        }

        .mr-2 {
            margin-right: 0.5rem
        }

        .mt-2 {
            margin-top: 0.5rem
        }

        .mt-4 {
            margin-top: 1rem
        }

        .mt-6 {
            margin-top: 1.5rem
        }

        .block {
            display: block
        }

        .flex {
            display: flex
        }

        .grid {
            display: grid
        }

        .hidden {
            display: none
        }

        .h-2\.5 {
            height: 0.625rem
        }

        .h-24 {
            height: 6rem
        }

        .h-3 {
            height: 0.75rem
        }

        .h-4 {
            height: 1rem
        }

        .h-40 {
            height: 10rem
        }

        .h-full {
            height: 100%
        }

        .max-h-40 {
            max-height: 10rem
        }

        .min-h-screen {
            min-height: 100vh
        }

        .w-24 {
            width: 6rem
        }

        .w-3 {
            width: 0.75rem
        }

        .w-4 {
            width: 1rem
        }

        .w-40 {
            width: 10rem
        }

        .w-full {
            width: 100%
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr))
        }

        .grid-cols-3 {
            grid-template-columns: repeat(3, minmax(0, 1fr))
        }

        .flex-col {
            flex-direction: column
        }

        .items-start {
            align-items: flex-start
        }

        .items-center {
            align-items: center
        }

        .justify-center {
            justify-content: center
        }

        .justify-between {
            justify-content: space-between
        }

        .gap-4 {
            gap: 1rem
        }

        .gap-6 {
            gap: 1.5rem
        }

        .space-x-2 > :not([hidden]) ~ :not([hidden]) {
            --tw-space-x-reverse: 0;
            margin-right: calc(0.5rem * var(--tw-space-x-reverse));
            margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))
        }

        .space-y-1 > :not([hidden]) ~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0.25rem * var(--tw-space-y-reverse))
        }

        .space-y-2 > :not([hidden]) ~ :not([hidden]) {
            --tw-space-y-reverse: 0;
            margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));
            margin-bottom: calc(0.5rem * var(--tw-space-y-reverse))
        }

        .overflow-y-auto {
            overflow-y: auto
        }

        .rounded {
            border-radius: 0.25rem
        }

        .rounded-full {
            border-radius: 9999px
        }

        .rounded-lg {
            border-radius: 0.5rem
        }

        .rounded-md {
            border-radius: 0.375rem
        }

        .border {
            border-width: 1px
        }

        .border-t {
            border-top-width: 1px
        }

        .border-blue-200 {
            --tw-border-opacity: 1;
            border-color: rgb(191 219 254 / var(--tw-border-opacity, 1))
        }

        .border-gray-200 {
            --tw-border-opacity: 1;
            border-color: rgb(229 231 235 / var(--tw-border-opacity, 1))
        }

        .border-gray-300 {
            --tw-border-opacity: 1;
            border-color: rgb(209 213 219 / var(--tw-border-opacity, 1))
        }

        .border-green-200 {
            --tw-border-opacity: 1;
            border-color: rgb(187 247 208 / var(--tw-border-opacity, 1))
        }

        .border-red-200 {
            --tw-border-opacity: 1;
            border-color: rgb(254 202 202 / var(--tw-border-opacity, 1))
        }

        .bg-gray-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1))
        }

        .bg-blue-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1))
        }

        .bg-blue-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1))
        }

        .bg-blue-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1))
        }

        .bg-gray-200 {
            --tw-bg-opacity: 1;
            background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1))
        }

        .bg-gray-400 {
            --tw-bg-opacity: 1;
            background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1))
        }

        .bg-gray-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1))
        }

        .bg-gray-800 {
            --tw-bg-opacity: 1;
            background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1))
        }

        .bg-green-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(220 252 231 / var(--tw-bg-opacity, 1))
        }

        .bg-green-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(240 253 244 / var(--tw-bg-opacity, 1))
        }

        .bg-green-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1))
        }

        .bg-green-600 {
            --tw-bg-opacity: 1;
            background-color: rgb(22 163 74 / var(--tw-bg-opacity, 1))
        }

        .bg-red-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 226 226 / var(--tw-bg-opacity, 1))
        }

        .bg-red-50 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 242 242 / var(--tw-bg-opacity, 1))
        }

        .bg-red-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1))
        }

        .bg-white {
            --tw-bg-opacity: 1;
            background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1))
        }

        .bg-yellow-100 {
            --tw-bg-opacity: 1;
            background-color: rgb(254 249 195 / var(--tw-bg-opacity, 1))
        }

        .p-3 {
            padding: 0.75rem
        }

        .p-4 {
            padding: 1rem
        }

        .p-6 {
            padding: 1.5rem
        }

        .px-2 {
            padding-left: 0.5rem;
            padding-right: 0.5rem
        }

        .px-3 {
            padding-left: 0.75rem;
            padding-right: 0.75rem
        }

        .px-4 {
            padding-left: 1rem;
            padding-right: 1rem
        }

        .py-1 {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem
        }

        .py-12 {
            padding-top: 3rem;
            padding-bottom: 3rem
        }

        .py-2 {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem
        }

        .py-3 {
            padding-top: 0.75rem;
            padding-bottom: 0.75rem
        }

        .py-4 {
            padding-top: 1rem;
            padding-bottom: 1rem
        }

        .py-8 {
            padding-top: 2rem;
            padding-bottom: 2rem
        }

        .pb-20 {
            padding-bottom: 5rem
        }

        .pt-4 {
            padding-top: 1rem
        }

        .text-center {
            text-align: center
        }

        .text-2xl {
            font-size: 1.5rem;
            line-height: 2rem
        }

        .text-3xl {
            font-size: 1.875rem;
            line-height: 2.25rem
        }

        .text-5xl {
            font-size: 3rem;
            line-height: 1
        }

        .text-lg {
            font-size: 1.125rem;
            line-height: 1.75rem
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem
        }

        .text-xl {
            font-size: 1.25rem;
            line-height: 1.75rem
        }

        .text-xs {
            font-size: 0.75rem;
            line-height: 1rem
        }

        .font-bold {
            font-weight: 700
        }

        .font-medium {
            font-weight: 500
        }

        .font-semibold {
            font-weight: 600
        }

        .text-blue-600 {
            --tw-text-opacity: 1;
            color: rgb(37 99 235 / var(--tw-text-opacity, 1))
        }

        .text-blue-700 {
            --tw-text-opacity: 1;
            color: rgb(29 78 216 / var(--tw-text-opacity, 1))
        }

        .text-blue-800 {
            --tw-text-opacity: 1;
            color: rgb(30 64 175 / var(--tw-text-opacity, 1))
        }

        .text-call {
            --tw-text-opacity: 1;
            color: rgb(16 185 129 / var(--tw-text-opacity, 1))
        }

        .text-gray-500 {
            --tw-text-opacity: 1;
            color: rgb(107 114 128 / var(--tw-text-opacity, 1))
        }

        .text-gray-600 {
            --tw-text-opacity: 1;
            color: rgb(75 85 99 / var(--tw-text-opacity, 1))
        }

        .text-gray-700 {
            --tw-text-opacity: 1;
            color: rgb(55 65 81 / var(--tw-text-opacity, 1))
        }

        .text-gray-800 {
            --tw-text-opacity: 1;
            color: rgb(31 41 55 / var(--tw-text-opacity, 1))
        }

        .text-green-700 {
            --tw-text-opacity: 1;
            color: rgb(21 128 61 / var(--tw-text-opacity, 1))
        }

        .text-green-800 {
            --tw-text-opacity: 1;
            color: rgb(22 101 52 / var(--tw-text-opacity, 1))
        }

        .text-put {
            --tw-text-opacity: 1;
            color: rgb(239 68 68 / var(--tw-text-opacity, 1))
        }

        .text-red-600 {
            --tw-text-opacity: 1;
            color: rgb(220 38 38 / var(--tw-text-opacity, 1))
        }

        .text-red-700 {
            --tw-text-opacity: 1;
            color: rgb(185 28 28 / var(--tw-text-opacity, 1))
        }

        .text-red-800 {
            --tw-text-opacity: 1;
            color: rgb(153 27 27 / var(--tw-text-opacity, 1))
        }

        .text-white {
            --tw-text-opacity: 1;
            color: rgb(255 255 255 / var(--tw-text-opacity, 1))
        }

        .text-yellow-800 {
            --tw-text-opacity: 1;
            color: rgb(133 77 14 / var(--tw-text-opacity, 1))
        }

        .text-green-600 {
            --tw-text-opacity: 1;
            color: rgb(22 163 74 / var(--tw-text-opacity, 1))
        }

        .shadow {
            --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .shadow-md {
            --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .shadow-sm {
            --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)
        }

        .transition {
            transition-property: color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms
        }

        .transition-colors {
            transition-property: color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms
        }

        .duration-200 {
            transition-duration: 200ms
        }

        .hover\:bg-blue-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-gray-200:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1))
        }

        .hover\:bg-green-700:hover {
            --tw-bg-opacity: 1;
            background-color: rgb(21 128 61 / var(--tw-bg-opacity, 1))
        }

        .focus\:border-blue-500:focus {
            --tw-border-opacity: 1;
            border-color: rgb(59 130 246 / var(--tw-border-opacity, 1))
        }

        .focus\:outline-none:focus {
            outline: 2px solid transparent;
            outline-offset: 2px
        }

        .focus\:ring-blue-500:focus {
            --tw-ring-opacity: 1;
            --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))
        }

        @media (min-width: 768px) {
            .md\:grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr))
            }

            .md\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr))
            }
        }

        @media (min-width: 1024px) {
            .lg\:col-span-2 {
                grid-column: span 2 / span 2
            }

            .lg\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr))
            }
        }
    </style>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" id="viewportMeta">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://cdn.tailwindcss.com https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
    <title>OTC Trading Signal Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        call: '#10b981',
                        put: '#ef4444',
                    }
                }
            }
        }
    </script>
    <style>
        /* Dark theme styles */
        .dark, .dark body {
            background-color: #111827;
            color: #f3f4f6;
        }

        .dark .bg-white {
            background-color: #1f2937 !important;
        }

        .dark .text-gray-500,
        .dark .text-gray-600,
        .dark .text-gray-700,
        .dark .text-gray-800 {
            color: #e5e7eb !important;
        }

        .dark .bg-gray-50,
        .dark .bg-gray-100 {
            background-color: #1f2937 !important;
        }

        .dark .border-gray-200,
        .dark .border-gray-300 {
            border-color: #374151 !important;
        }

        /* Fix select dropdown text in dark mode */
        .dark select {
            color: #e5e7eb !important;
            background-color: #1f2937 !important;
        }

        .dark option {
            color: #e5e7eb;
            background-color: #1f2937;
        }

        .signal-animation {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 0.7;
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0.7;
            }
        }

        .progress-bar {
            transition: width 1s linear;
        }

        .strength-meter {
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
            background-color: #e5e7eb;
        }

        .strength-meter-fill {
            height: 100%;
        }

        /* Style for selected filter button */
        .selected-filter-button {
            background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1)) !important; /* bg-blue-600 */
            color: rgb(255 255 255 / var(--tw-text-opacity, 1)) !important; /* text-white */
            border-color: rgb(37 99 235 / var(--tw-border-opacity, 1)) !important; /* border-blue-600 */
        }

        .dark .selected-filter-button {
            background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1)) !important; /* bg-blue-500 */
            border-color: rgb(59 130 246 / var(--tw-border-opacity, 1)) !important; /* border-blue-500 */
        }
    </style>





<div class="w-full px-4 py-8 relative min-h-screen pb-20">
    <header class="mb-8 text-center">
        <div class="flex justify-center gap-4 mb-2">
            <button id="btnDesktopMode" class="px-3 py-1 bg-gray-100 rounded-md border border-gray-300 text-gray-700">
                Desktop Site
            </button>
            <button id="btnMobileMode" class="px-3 py-1 bg-blue-100 rounded-md border border-blue-300 text-blue-700">
                Mobile Site
            </button>
            <button id="btnThemeToggle" class="px-3 py-1 bg-gray-800 text-white rounded-md border border-gray-700">
                Dark Theme
            </button>
        </div>
        <h1 class="text-3xl font-bold text-gray-800">OTC Trading Signal Dashboard</h1>
        <p class="text-gray-600">Real-time Call/Put Signals for Your Selected OTC Assets</p>
        <button onclick="downloadPage()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">
            Download Dashboard
        </button>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Asset Selection Panel -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold mb-4 text-gray-800">Select Your OTC Asset</h2>

            <!-- Filter Buttons -->
            <div class="flex flex-wrap gap-2 mb-4" id="filterButtonsContainer">
                <button class="px-3 py-1 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200" data-filter="All">All
                </button>
                <button class="px-3 py-1 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200 selected-filter-button" data-filter="Popular">Popular
                </button>
                <button class="px-3 py-1 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200" data-filter="Forex">Forex
                </button>
                <button class="px-3 py-1 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200" data-filter="Crypto">Crypto
                </button>
                <button class="px-3 py-1 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200" data-filter="Indices">Indices
                </button>
                <button class="px-3 py-1 text-sm rounded-md border border-gray-300 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200" data-filter="Stocks">Stocks
                </button>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Available Assets</label>
                <select id="assetSelector" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"><option value="">Select an asset...</option><option value="{&quot;symbol&quot;:&quot;GBP-USD&quot;,&quot;name&quot;:&quot;GBP-USD&quot;,&quot;description&quot;:&quot;British Pound to US Dollar trading OTC&quot;,&quot;type&quot;:&quot;forex&quot;}">GBP-USD (OTC)</option><option value="{&quot;symbol&quot;:&quot;EUR/USD&quot;,&quot;name&quot;:&quot;EUR-USD&quot;,&quot;description&quot;:&quot;Euro to US Dollar trading OTC&quot;,&quot;type&quot;:&quot;forex&quot;}">EUR-USD (OTC)</option><option value="{&quot;symbol&quot;:&quot;BTC/USD&quot;,&quot;name&quot;:&quot;Bitcoin-USD&quot;,&quot;description&quot;:&quot;Bitcoin to US Dollar trading OTC&quot;,&quot;type&quot;:&quot;crypto&quot;}">Bitcoin-USD (OTC)</option><option value="{&quot;symbol&quot;:&quot;ETH/USD&quot;,&quot;name&quot;:&quot;Ethereum-USD&quot;,&quot;description&quot;:&quot;Ethereum to US Dollar trading OTC&quot;,&quot;type&quot;:&quot;crypto&quot;}">Ethereum-USD (OTC)</option><option value="{&quot;symbol&quot;:&quot;US100&quot;,&quot;name&quot;:&quot;US 100&quot;,&quot;description&quot;:&quot;US Stock Market Index trading OTC&quot;,&quot;type&quot;:&quot;index&quot;}">US 100 (OTC)</option><option value="{&quot;symbol&quot;:&quot;US30&quot;,&quot;name&quot;:&quot;US 30&quot;,&quot;description&quot;:&quot;US Stock Market Index trading OTC&quot;,&quot;type&quot;:&quot;index&quot;}">US 30 (OTC)</option><option value="{&quot;symbol&quot;:&quot;AAPL&quot;,&quot;name&quot;:&quot;Apple Inc.&quot;,&quot;description&quot;:&quot;Technology company trading OTC&quot;,&quot;type&quot;:&quot;stock&quot;}">Apple Inc. (OTC)</option><option value="{&quot;symbol&quot;:&quot;GOOGL&quot;,&quot;name&quot;:&quot;Alphabet Inc. (Google)&quot;,&quot;description&quot;:&quot;Technology company trading OTC&quot;,&quot;type&quot;:&quot;stock&quot;}">Alphabet Inc. (Google) (OTC)</option><option value="{&quot;symbol&quot;:&quot;NKE&quot;,&quot;name&quot;:&quot;Nike Inc&quot;,&quot;description&quot;:&quot;Athletic apparel company trading OTC&quot;,&quot;type&quot;:&quot;stock&quot;}">Nike Inc (OTC)</option><option value="{&quot;symbol&quot;:&quot;IOTA&quot;,&quot;name&quot;:&quot;IOTA&quot;,&quot;description&quot;:&quot;Distributed ledger for Internet of Things trading OTC&quot;,&quot;type&quot;:&quot;crypto&quot;}">IOTA (OTC)</option><option value="{&quot;symbol&quot;:&quot;SNAP&quot;,&quot;name&quot;:&quot;Snap Inc&quot;,&quot;description&quot;:&quot;Social media company trading OTC&quot;,&quot;type&quot;:&quot;stock&quot;}">Snap Inc (OTC)</option><option value="{&quot;symbol&quot;:&quot;EU50&quot;,&quot;name&quot;:&quot;EU50&quot;,&quot;description&quot;:&quot;European Stock Market Index trading OTC&quot;,&quot;type&quot;:&quot;index&quot;}">EU50 (OTC)</option><option value="{&quot;symbol&quot;:&quot;JUP&quot;,&quot;name&quot;:&quot;Jupiter&quot;,&quot;description&quot;:&quot;Cryptocurrency token trading OTC&quot;,&quot;type&quot;:&quot;crypto&quot;}">Jupiter (OTC)</option><option value="{&quot;symbol&quot;:&quot;LTC&quot;,&quot;name&quot;:&quot;Litecoin&quot;,&quot;description&quot;:&quot;Peer-to-peer cryptocurrency trading OTC&quot;,&quot;type&quot;:&quot;crypto&quot;}">Litecoin (OTC)</option><option value="{&quot;symbol&quot;:&quot;RON&quot;,&quot;name&quot;:&quot;Ronin&quot;,&quot;description&quot;:&quot;Blockchain for gaming trading OTC&quot;,&quot;type&quot;:&quot;crypto&quot;}">Ronin (OTC)</option><option value="{&quot;symbol&quot;:&quot;US100/JP225&quot;,&quot;name&quot;:&quot;US100-JP225&quot;,&quot;description&quot;:&quot;Combined US and Japan Index trading OTC&quot;,&quot;type&quot;:&quot;index&quot;}">US100-JP225 (OTC)</option><option value="{&quot;symbol&quot;:&quot;SAND&quot;,&quot;name&quot;:&quot;Sandbox&quot;,&quot;description&quot;:&quot;Decentralized gaming virtual world trading OTC&quot;,&quot;type&quot;:&quot;crypto&quot;}">Sandbox (OTC)</option><option value="{&quot;symbol&quot;:&quot;NEAR&quot;,&quot;name&quot;:&quot;NEAR Protocol&quot;,&quot;description&quot;:&quot;Scalable blockchain platform trading OTC&quot;,&quot;type&quot;:&quot;crypto&quot;}">NEAR Protocol (OTC)</option></select>
            </div>

            <div class="mt-4 mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Signal Timer</label>
                <select id="signalTimer" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    <option value="60000">1 minute</option>
                    <option value="180000">3 minutes</option>
                    <option value="300000">5 minutes</option>
                    <option value="5000">5 seconds</option>
                    <option value="10000">10 seconds</option>
                    <option value="15000">15 seconds</option>
                </select>
            </div>

            <div class="mt-4 p-3 bg-blue-50 rounded-md border border-blue-200">
                <h3 class="text-sm font-medium text-blue-800 mb-1">Selected Asset Info</h3>
                <div id="selectedAssetInfo" class="text-xs text-blue-700">Select an asset to view details</div>
            </div>

            <div class="mt-6">
                <button id="btnStartLive" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-md shadow-md transition duration-200">
                    Start Live Signals
                </button>
                <p id="networkStatusMessage" class="text-center text-sm text-red-600 mt-2 hidden">
                    No internet connection. Please connect to the internet to start live signals.
                </p>
            </div>

            <!-- Advanced Options -->
            <div class="mt-6 pt-4 border-t border-gray-200">
                <h3 class="text-sm font-medium text-gray-700 mb-2">Signal Preferences</h3>
                <div class="space-y-2">
                    <div class="flex items-center">
                        <input id="cbTrendAnalysis" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked="">
                        <label for="cbTrendAnalysis" class="ml-2 block text-sm text-gray-700">Include trend
                            analysis</label>
                    </div>
                    <div class="flex items-center">
                        <input id="cbVolumeAnalysis" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked="">
                        <label for="cbVolumeAnalysis" class="ml-2 block text-sm text-gray-700">Include volume
                            signals</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Signal Display Panel -->
        <div class="bg-white rounded-lg shadow p-6 lg:col-span-2">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-semibold text-gray-800">Live Trading Signal</h2>
                <div class="flex items-center space-x-2">
                    <div class="h-3 w-3 rounded-full bg-gray-400 bg-green-500" id="connectionIndicator"></div>
                    <span class="text-sm text-gray-600" id="connectionStatus">Connected</span>
                </div>
            </div>

            <!-- Current Asset Info -->
            <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-lg font-medium" id="currentAssetName">---</span>
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full" id="currentAssetType">OTC</span>
                </div>
                <div class="grid grid-cols-3 gap-4">
                    <div>
                        <span class="text-xs text-gray-500 block">Current Price</span>
                        <span class="text-xl font-bold" id="currentPrice">---</span>
                    </div>
                    <div>
                        <span class="text-xs text-gray-500 block">Today's Change</span>
                        <span class="text-xl font-bold text-red-600" id="currentChange">---</span>
                    </div>
                    <div>
                        <span class="text-xs text-gray-500 block">Liquidity</span>
                        <span class="text-xl font-bold" id="currentLiquidity">Medium</span>
                    </div>
                </div>
            </div>

            <!-- Signal Display with Timer -->
            <div id="signalContainer" class="hidden">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <!-- Call Signal Card -->
                    <div class="signal-card bg-green-50 border border-green-200 rounded-lg p-4" data-type="call">
                        <div class="flex items-start justify-between mb-2">
                            <h3 class="text-lg font-bold text-green-800">CALL SIGNAL</h3>
                            <span class="text-xs px-2 py-1 bg-green-100 text-green-800 rounded" id="callTimeframe">15min</span>
                        </div>
                        <div class="flex flex-col items-center justify-center py-2">
                            <div class="text-5xl font-bold text-call mb-2" id="callScore">0</div>
                            <div class="text-center text-sm text-gray-700 mb-3" id="callSignal">Loading signal...
                            </div>
                            <div class="w-full mb-3">
                                <div class="text-xs text-gray-600 mb-1">Signal Strength</div>
                                <div class="strength-meter">
                                    <div class="strength-meter-fill bg-green-500" id="callStrengthMeter" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="w-full">
                                <div class="text-xs text-gray-600 mb-1">Recommended Action</div>
                                <div class="text-sm font-medium text-green-700" id="callAction">---</div>
                            </div>
                        </div>
                    </div>

                    <!-- Timer Card -->
                    <div class="bg-white border border-gray-200 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="text-lg font-bold text-blue-800">SIGNAL TIMER</h3>
                            <span class="text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded">Live</span>
                        </div>
                        <div class="flex flex-col items-center justify-center py-2">
                            <div class="text-5xl font-bold text-blue-600 mb-4" id="countdown">--:--</div>
                            <div class="text-xs text-gray-600 mb-3">Next Signal In</div>
                            <div class="w-full bg-blue-100 rounded-full h-2.5">
                                <div class="bg-blue-600 h-2.5 rounded-full progress-bar" id="progressBar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Put Signal Card -->
                    <div class="signal-card bg-red-50 border border-red-200 rounded-lg p-4" data-type="put">
                        <div class="flex items-start justify-between mb-2">
                            <h3 class="text-lg font-bold text-red-800">PUT SIGNAL</h3>
                            <span class="text-xs px-2 py-1 bg-red-100 text-red-800 rounded" id="putTimeframe">15min</span>
                        </div>
                        <div class="flex flex-col items-center justify-center py-2">
                            <div class="text-5xl font-bold text-put mb-2" id="putScore">0</div>
                            <div class="text-center text-sm text-gray-700 mb-3" id="putSignal">Loading signal...</div>
                            <div class="w-full mb-3">
                                <div class="text-xs text-gray-600 mb-1">Signal Strength</div>
                                <div class="strength-meter">
                                    <div class="strength-meter-fill bg-red-500" id="putStrengthMeter" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="w-full">
                                <div class="text-xs text-gray-600 mb-1">Recommended Action</div>
                                <div class="text-sm font-medium text-red-700" id="putAction">---</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Signal Analysis -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800 mb-3">Signal Analysis</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <h4 class="text-sm font-medium text-gray-700 mb-2">Trend Indicators</h4>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li id="trend1"> Loading trend data...</li>
                                <li id="trend2"></li>
                                <li id="trend3"></li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="text-sm font-medium text-gray-700 mb-2">Volume Analysis</h4>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li id="volume1"> Loading volume data...</li>
                                <li id="volume2"></li>
                                <li id="volume3"></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Recommended Position -->
                <div class="mb-6">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-sm font-medium text-gray-700 mr-2">Recommended Position:</span>
                        <span id="currentSignalText" class="font-bold text-gray-800">Waiting for signal...</span>
                    </div>
                    <div class="flex justify-center">
                        <div id="signalVisual" class="w-40 h-40 rounded-full bg-gray-200 flex items-center justify-center text-2xl font-bold">
                            ---
                        </div>
                    </div>
                </div>

                <!-- Signal History -->
                <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                    <h3 class="text-sm font-medium text-gray-700 mb-2">Recent Signals</h3>
                    <div class="overflow-y-auto max-h-40" id="signalHistory">
                        <div class="text-center py-4 text-gray-500">No signals yet</div>
                    </div>
                </div>
            </div>

            <!-- Placeholder when no asset is selected -->
            <div id="noSignalContainer" class="text-center py-12">
                <div class="mx-auto w-24 h-24 mb-4">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/1ea06e63-caf2-4d1e-9f3f-6bac0cf70dec.png" alt="Icon indicating no asset selected - select an OTC asset from the left panel to begin receiving trading signals" class="w-full h-full rounded-full">
                </div>
                <h3 class="text-lg font-medium text-gray-700 mb-1">No Asset Selected</h3>
                <p class="text-gray-500">Please select an OTC asset to begin receiving live trading signals</p>
            </div>
        </div>
    </div>
</div>

<script>
    // DOM Elements
    const assetSelector = document.getElementById('assetSelector');
    const selectedAssetInfo = document.getElementById('selectedAssetInfo');
    const btnStartLive = document.getElementById('btnStartLive');
    const currentAssetName = document.getElementById('currentAssetName');
    const currentAssetType = document.getElementById('currentAssetType');
    const currentPrice = document.getElementById('currentPrice');
    const currentChange = document.getElementById('currentChange');
    const currentLiquidity = document.getElementById('currentLiquidity');
    const connectionIndicator = document.getElementById('connectionIndicator');
    const connectionStatus = document.getElementById('connectionStatus');
    const signalContainer = document.getElementById('signalContainer');
    const noSignalContainer = document.getElementById('noSignalContainer');
    const countdown = document.getElementById('countdown');
    const progressBar = document.getElementById('progressBar');
    const callScore = document.getElementById('callScore');
    const callSignal = document.getElementById('callSignal');
    const callStrengthMeter = document.getElementById('callStrengthMeter');
    const callAction = document.getElementById('callAction');
    const callTimeframe = document.getElementById('callTimeframe');
    const putScore = document.getElementById('putScore');
    const putSignal = document.getElementById('putSignal');
    const putStrengthMeter = document.getElementById('putStrengthMeter');
    const putAction = document.getElementById('putAction');
    const putTimeframe = document.getElementById('putTimeframe');
    const currentSignalText = document.getElementById('currentSignalText');
    const signalVisual = document.getElementById('signalVisual');
    const signalHistory = document.getElementById('signalHistory');
    const trend1 = document.getElementById('trend1');
    const trend2 = document.getElementById('trend2');
    const trend3 = document.getElementById('trend3');
    const volume1 = document.getElementById('volume1');
    const volume2 = document.getElementById('volume2');
    const volume3 = document.getElementById('volume3');
    const cbTrendAnalysis = document.getElementById('cbTrendAnalysis');
    const cbVolumeAnalysis = document.getElementById('cbVolumeAnalysis');
    const networkStatusMessage = document.getElementById('networkStatusMessage');
    const filterButtonsContainer = document.getElementById('filterButtonsContainer');
    const filterButtons = filterButtonsContainer.querySelectorAll('button');

    // State Variables
    let currentAsset = null;
    let timerInterval = null;
    let signalInterval = null;
    let timeLeft = 0;
    let totalTime = 0;
    let isLive = false;
    let currentPriceValue = 0;

    // Asset Data - Now structured by category
    const allAssets = {
        "Forex": [
            {"symbol": "GBP/CHF", "name": "GBP-CHF", "description": "British Pound to Swiss Franc trading OTC", "type": "forex"},
            {"symbol": "USD/NOK", "name": "USD-NOK", "description": "US Dollar to Norwegian Krone trading OTC", "type": "forex"},
            {"symbol": "CHF/JPY", "name": "CHF-JPY", "description": "Swiss Franc to Japanese Yen trading OTC", "type": "forex"},
            {"symbol": "GBP/AUD", "name": "GBP-AUD", "description": "British Pound to Australian Dollar trading OTC", "type": "forex"},
            {"symbol": "USD/ZAR", "name": "USD-ZAR", "description": "US Dollar to South African Rand trading OTC", "type": "forex"},
            {"symbol": "EUR/CHF", "name": "EUR-CHF", "description": "Euro to Swiss Franc trading OTC", "type": "forex"},
            {"symbol": "AUD/JPY", "name": "AUD-JPY", "description": "Australian Dollar to Japanese Yen trading OTC", "type": "forex"},
            {"symbol": "AUD/USD", "name": "AUD-USD", "description": "Australian Dollar to US Dollar trading OTC", "type": "forex"},
            {"symbol": "EUR/NZD", "name": "EUR-NZD", "description": "Euro to New Zealand Dollar trading OTC", "type": "forex"},
            {"symbol": "EUR/GBP", "name": "EUR-GBP", "description": "Euro to British Pound trading OTC", "type": "forex"},
            {"symbol": "AUD/CAD", "name": "AUD-CAD", "description": "Australian Dollar to Canadian Dollar trading OTC", "type": "forex"},
            {"symbol": "GBP/CAD", "name": "GBP-CAD", "description": "British Pound to Canadian Dollar trading OTC", "type": "forex"},
            {"symbol": "EUR/CAD", "name": "EUR-CAD", "description": "Euro to Canadian Dollar trading OTC", "type": "forex"},
            {"symbol": "USD/PLN", "name": "USD-PLN", "description": "US Dollar to Polish Zloty trading OTC", "type": "forex"},
            {"symbol": "EUR/AUD", "name": "EUR-AUD", "description": "Euro to Australian Dollar trading OTC", "type": "forex"},
            {"symbol": "USD/SEK", "name": "USD-SEK", "description": "US Dollar to Swedish Krona trading OTC", "type": "forex"},
            {"symbol": "AUD/CHF", "name": "AUD-CHF", "description": "Australian Dollar to Swiss Franc trading OTC", "type": "forex"},
            {"symbol": "NZDCHF", "name": "NZD-CHF", "description": "New Zealand Dollar to Swiss Franc trading OTC", "type": "forex"},
            {"symbol": "USD/HKD", "name": "USD-HKD", "description": "US Dollar to Hong Kong Dollar trading OTC", "type": "forex"},
            {"symbol": "USD/SGD", "name": "USD-SGD", "description": "US Dollar to Singapore Dollar trading OTC", "type": "forex"},
            {"symbol": "GBP/NZD", "name": "GBP-NZD", "description": "British Pound to New Zealand Dollar trading OTC", "type": "forex"},
            {"symbol": "JPY/THB", "name": "JPY-THB", "description": "Japanese Yen to Thai Baht trading OTC", "type": "forex"},
            {"symbol": "USD/THB", "name": "USD-THB", "description": "US Dollar to Thai Baht trading OTC", "type": "forex"},
            {"symbol": "USD/CAD", "name": "USD-CAD", "description": "US Dollar to Canadian Dollar trading OTC", "type": "forex"},
            {"symbol": "CHFNOK", "name": "CHF-NOK", "description": "Swiss Franc to Norwegian Krone trading OTC", "type": "forex"},
            {"symbol": "GBP-USD", "name": "GBP-USD", "description": "British Pound to US Dollar trading OTC", "type": "forex"},
            {"symbol": "USD/TRY", "name": "USD-TRY", "description": "US Dollar to Turkish Lira trading OTC", "type": "forex"},
            {"symbol": "CAD/CHF", "name": "CAD-CHF", "description": "Canadian Dollar to Swiss Franc trading OTC", "type": "forex"},
            {"symbol": "EUR/THB", "name": "EUR-THB", "description": "Euro to Thai Baht trading OTC", "type": "forex"},
            {"symbol": "CAD/JPY", "name": "CAD-JPY", "description": "Canadian Dollar to Japanese Yen trading OTC", "type": "forex"},
            {"symbol": "NZD/CAD", "name": "NZD-CAD", "description": "New Zealand Dollar to Canadian Dollar trading OTC", "type": "forex"}
        ],
        "Crypto": [
            {"symbol": "INJ", "name": "Injective", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "PEPE", "name": "Pepe", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "BCH", "name": "Bitcoin Cash", "description": "Cryptocurrency trading OTC", "type": "crypto"},
            {"symbol": "TON", "name": "TON", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "IMX", "name": "Immutable", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "1000SATS", "name": "1000Sats", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "LINK", "name": "Chainlink", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "STX", "name": "Stacks", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "JUP", "name": "Jupiter", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "WLD", "name": "Worldcoin", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "MATIC", "name": "Polygon", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "RON", "name": "Ronin", "description": "Blockchain for gaming trading OTC", "type": "crypto"},
            {"symbol": "ARB", "name": "Arbitrum", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "WIF", "name": "Dogwifhat", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "PYTH", "name": "Pyth", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "SAND", "name": "Sandbox", "description": "Decentralized gaming virtual world trading OTC", "type": "crypto"},
            {"symbol": "NEAR", "name": "NEAR Protocol", "description": "Scalable blockchain platform trading OTC", "type": "crypto"},
            {"symbol": "GRT", "name": "Graph", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "DOT", "name": "Polkadot", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "BEAM", "name": "Beam", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "SEI", "name": "Sei", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "ATOM", "name": "Cosmos", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "MANA", "name": "Decentraland", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "GALA", "name": "Gala", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "ICP", "name": "ICP", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "IOTA", "name": "IOTA", "description": "Distributed ledger for Internet of Things trading OTC", "type": "crypto"},
            {"symbol": "FLOKI", "name": "Floki", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "BONK", "name": "Bonk", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "DASH", "name": "Dash", "description": "Cryptocurrency trading OTC", "type": "crypto"},
            {"symbol": "ORDI", "name": "ORDI", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "CEL", "name": "Celestia", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "HMSTR", "name": "Hamster Kombat", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "LTC", "name": "Litecoin", "description": "Peer-to-peer cryptocurrency trading OTC", "type": "crypto"},
            {"symbol": "XRP", "name": "Ripple", "description": "Cryptocurrency trading OTC", "type": "crypto"}
        ],
        "Indices": [
            {"symbol": "US100/JP225", "name": "US100-JP225", "description": "Combined US and Japan Index trading OTC", "type": "index"},
            {"symbol": "JPY_IDX", "name": "JPY Currency Index", "description": "Japanese Yen Currency Index trading OTC", "type": "index"},
            {"symbol": "FR40", "name": "FR40", "description": "French Stock Market Index trading OTC", "type": "index"},
            {"symbol": "UK100", "name": "UK100", "description": "UK Stock Market Index trading OTC", "type": "index"},
            {"symbol": "US100", "name": "US 100", "description": "US Stock Market Index trading OTC", "type": "index"},
            {"symbol": "EU50", "name": "EU50", "description": "European Stock Market Index trading OTC", "type": "index"},
            {"symbol": "US2000", "name": "US2000", "description": "US Small Cap Index trading OTC", "type": "index"},
            {"symbol": "GER30/UK100", "name": "GER30-UK100", "description": "Combined German and UK Index trading OTC", "type": "index"},
            {"symbol": "SP35", "name": "SP35", "description": "Spanish Stock Market Index trading OTC", "type": "index"},
            {"symbol": "US30", "name": "US 30", "description": "US Stock Market Index trading OTC", "type": "index"},
            {"symbol": "US500/JP225", "name": "US500-JP225", "description": "Combined US S&P 500 and Japan Index trading OTC", "type": "index"},
            {"symbol": "USD_IDX", "name": "USD Currency Index", "description": "US Dollar Currency Index trading OTC", "type": "index"},
            {"symbol": "US500", "name": "US 500", "description": "US Stock Market Index trading OTC", "type": "index"},
            {"symbol": "GER30", "name": "GER30", "description": "German Stock Market Index trading OTC", "type": "index"},
            {"symbol": "US30/JP225", "name": "US30-JP225", "description": "Combined US Dow Jones and Japan Index trading OTC", "type": "index"},
            {"symbol": "JP225", "name": "JP225", "description": "Japanese Stock Market Index trading OTC", "type": "index"},
            {"symbol": "HK33", "name": "HK33", "description": "Hong Kong Stock Market Index trading OTC", "type": "index"},
            {"symbol": "AUS200", "name": "AUS200", "description": "Australian Stock Market Index trading OTC", "type": "index"}
        ],
        "Stocks": [
            {"symbol": "JPM", "name": "JPMorgan Chase & Co.", "description": "Financial services company trading OTC", "type": "stock"},
            {"symbol": "NFLX/AMZN", "name": "Netflix-Amazon", "description": "Combined streaming and e-commerce stocks trading OTC", "type": "stock"},
            {"symbol": "NVDA/AMD", "name": "Nvidia-AMD", "description": "Combined semiconductor stocks trading OTC", "type": "stock"},
            {"symbol": "AIG", "name": "AIG", "description": "Insurance corporation trading OTC", "type": "stock"},
            {"symbol": "NKE", "name": "Nike, Inc.", "description": "Athletic apparel company trading OTC", "type": "stock"},
            {"symbol": "BIDU", "name": "Baidu, Inc. ADR", "description": "Chinese internet search giant trading OTC", "type": "stock"},
            {"symbol": "INTC", "name": "Intel Corporation", "description": "Semiconductor company trading OTC", "type": "stock"},
            {"symbol": "AMZN/EBAY", "name": "Amazon-Ebay", "description": "Combined e-commerce platforms trading OTC", "type": "stock"},
            {"symbol": "AMZN/BABA", "name": "Amazon-Alibaba", "description": "Combined e-commerce giants trading OTC", "type": "stock"},
            {"symbol": "BABA", "name": "Alibaba Group Holding", "description": "Chinese e-commerce company trading OTC", "type": "stock"},
            {"symbol": "C", "name": "Citigroup, Inc", "description": "Financial services company trading OTC", "type": "stock"},
            {"symbol": "META/GOOGL", "name": "Meta-Alphabet", "description": "Combined social media and tech giants trading OTC", "type": "stock"},
            {"symbol": "MCD", "name": "McDonald's Corporation", "description": "Fast food company trading OTC", "type": "stock"},
            {"symbol": "KO", "name": "Coca-Cola Company", "description": "Beverage company trading OTC", "type": "stock"},
            {"symbol": "GS", "name": "Goldman Sachs Group", "description": "Investment banking firm trading OTC", "type": "stock"},
            {"symbol": "GOOGL/MSFT", "name": "Alphabet-Microsoft", "description": "Combined tech giants trading OTC", "type": "stock"},
            {"symbol": "TSLA/F", "name": "Tesla-Ford", "description": "Combined automotive stocks trading OTC", "type": "stock"},
            {"symbol": "MS", "name": "Morgan Stanley", "description": "Financial services company trading OTC", "type": "stock"},
            {"symbol": "MSFT", "name": "Microsoft Corporation", "description": "Technology company trading OTC", "type": "stock"},
            {"symbol": "INTC/IBM", "name": "Intel-IBM", "description": "Combined tech hardware and software stocks trading OTC", "type": "stock"},
            {"symbol": "MSFT/AAPL", "name": "Microsoft-Apple", "description": "Combined tech giants trading OTC", "type": "stock"}
        ],
        "Popular": [
            // You can define what "Popular" means, e.g., a mix of top assets from each category
            {"symbol": "GBP-USD", "name": "GBP-USD", "description": "British Pound to US Dollar trading OTC", "type": "forex"},
            {"symbol": "EUR/USD", "name": "EUR-USD", "description": "Euro to US Dollar trading OTC", "type": "forex"},
            {"symbol": "BTC/USD", "name": "Bitcoin-USD", "description": "Bitcoin to US Dollar trading OTC", "type": "crypto"},
            {"symbol": "ETH/USD", "name": "Ethereum-USD", "description": "Ethereum to US Dollar trading OTC", "type": "crypto"},
            {"symbol": "US100", "name": "US 100", "description": "US Stock Market Index trading OTC", "type": "index"},
            {"symbol": "US30", "name": "US 30", "description": "US Stock Market Index trading OTC", "type": "index"},
            {"symbol": "AAPL", "name": "Apple Inc.", "description": "Technology company trading OTC", "type": "stock"},
            {"symbol": "GOOGL", "name": "Alphabet Inc. (Google)", "description": "Technology company trading OTC", "type": "stock"},
            {"symbol": "NKE", "name": "Nike Inc", "description": "Athletic apparel company trading OTC", "type": "stock"},
            {"symbol": "IOTA", "name": "IOTA", "description": "Distributed ledger for Internet of Things trading OTC", "type": "crypto"},
            {"symbol": "SNAP", "name": "Snap Inc", "description": "Social media company trading OTC", "type": "stock"},
            {"symbol": "EU50", "name": "EU50", "description": "European Stock Market Index trading OTC", "type": "index"},
            {"symbol": "JUP", "name": "Jupiter", "description": "Cryptocurrency token trading OTC", "type": "crypto"},
            {"symbol": "LTC", "name": "Litecoin", "description": "Peer-to-peer cryptocurrency trading OTC", "type": "crypto"},
            {"symbol": "RON", "name": "Ronin", "description": "Blockchain for gaming trading OTC", "type": "crypto"},
            {"symbol": "US100/JP225", "name": "US100-JP225", "description": "Combined US and Japan Index trading OTC", "type": "index"},
            {"symbol": "SAND", "name": "Sandbox", "description": "Decentralized gaming virtual world trading OTC", "type": "crypto"},
            {"symbol": "NEAR", "name": "NEAR Protocol", "description": "Scalable blockchain platform trading OTC", "type": "crypto"}
        ]
    };

    // Asset Details for price simulation (only for assets that were previously defined)
    // You'll need to add basePrice and volatility for all new assets if you want realistic simulation for them.
    const assetDetails = {
        "1000SATA": {basePrice: 0.25, volatility: 0.08},
        "IOTA": {basePrice: 0.30, volatility: 0.10},
        "SNAP": {basePrice: 12.50, volatility: 0.06},
        "NKE": {basePrice: 95.00, volatility: 0.04},
        "EU50": {basePrice: 4500.00, volatility: 0.015},
        "JUP": {basePrice: 0.75, volatility: 0.12},
        "LTC": {basePrice: 70.00, volatility: 0.09},
        "RON": {basePrice: 2.50, volatility: 0.15},
        "US100/JP225": {basePrice: 20000.00, volatility: 0.01},
        "US100": {basePrice: 15000.00, volatility: 0.01},
        "SAND": {basePrice: 0.40, volatility: 0.11},
        "NEAR": {basePrice: 3.00, volatility: 0.13},
        // Add basePrice and volatility for new assets here if needed for simulation
        "GBP/CHF": {basePrice: 1.15, volatility: 0.005},
        "USD/NOK": {basePrice: 10.50, volatility: 0.008},
        "CHF/JPY": {basePrice: 170.00, volatility: 0.007},
        "GBP/AUD": {basePrice: 1.92, volatility: 0.006},
        "USD/ZAR": {basePrice: 18.80, volatility: 0.01},
        "EUR/CHF": {basePrice: 0.97, volatility: 0.004},
        "AUD/JPY": {basePrice: 103.00, volatility: 0.006},
        "AUD/USD": {basePrice: 0.66, volatility: 0.005},
        "EUR/NZD": {basePrice: 1.75, volatility: 0.007},
        "EUR/GBP": {basePrice: 0.85, volatility: 0.003},
        "AUD/CAD": {basePrice: 0.90, volatility: 0.005},
        "GBP/CAD": {basePrice: 1.73, volatility: 0.006},
        "EUR/CAD": {basePrice: 1.47, volatility: 0.005},
        "USD/PLN": {basePrice: 4.00, volatility: 0.008},
        "EUR/AUD": {basePrice: 1.62, volatility: 0.006},
        "USD/SEK": {basePrice: 10.50, volatility: 0.007},
        "AUD/CHF": {basePrice: 0.60, volatility: 0.004},
        "NZDCHF": {basePrice: 0.55, volatility: 0.005},
        "USD/HKD": {basePrice: 7.80, volatility: 0.001},
        "USD/SGD": {basePrice: 1.35, volatility: 0.002},
        "GBP/NZD": {basePrice: 2.08, volatility: 0.008},
        "JPY/THB": {basePrice: 0.23, volatility: 0.009},
        "USD/THB": {basePrice: 36.50, volatility: 0.009},
        "USD/CAD": {basePrice: 1.37, volatility: 0.004},
        "CHFNOK": {basePrice: 11.50, volatility: 0.007},
        "GBP-USD": {basePrice: 1.27, volatility: 0.005},
        "USD/TRY": {basePrice: 32.50, volatility: 0.015},
        "CAD/CHF": {basePrice: 0.65, volatility: 0.004},
        "EUR/THB": {basePrice: 39.50, volatility: 0.01},
        "CAD/JPY": {basePrice: 115.00, volatility: 0.006},
        "NZD/CAD": {basePrice: 0.83, volatility: 0.005},
        "INJ": {basePrice: 25.00, volatility: 0.15},
        "PEPE": {basePrice: 0.000007, volatility: 0.20},
        "BCH": {basePrice: 400.00, volatility: 0.10},
        "TON": {basePrice: 7.00, volatility: 0.18},
        "IMX": {basePrice: 1.80, volatility: 0.14},
        "1000SATS": {basePrice: 0.0002, volatility: 0.25},
        "LINK": {basePrice: 15.00, volatility: 0.12},
        "STX": {basePrice: 2.00, volatility: 0.16},
        "WLD": {basePrice: 3.00, volatility: 0.17},
        "MATIC": {basePrice: 0.70, volatility: 0.13},
        "ARB": {basePrice: 1.00, volatility: 0.15},
        "WIF": {basePrice: 2.50, volatility: 0.22},
        "PYTH": {basePrice: 0.35, volatility: 0.19},
        "GRT": {basePrice: 0.20, volatility: 0.14},
        "DOT": {basePrice: 7.00, volatility: 0.11},
        "BEAM": {basePrice: 0.02, volatility: 0.20},
        "SEI": {basePrice: 0.40, volatility: 0.16},
        "ATOM": {basePrice: 8.00, volatility: 0.10},
        "MANA": {basePrice: 0.45, volatility: 0.13},
        "GALA": {basePrice: 0.03, volatility: 0.18},
        "ICP": {basePrice: 10.00, volatility: 0.15},
        "FLOKI": {basePrice: 0.00015, volatility: 0.23},
        "BONK": {basePrice: 0.000025, volatility: 0.28},
        "DASH": {basePrice: 30.00, volatility: 0.09},
        "ORDI": {basePrice: 40.00, volatility: 0.17},
        "CEL": {basePrice: 2.50, volatility: 0.14},
        "HMSTR": {basePrice: 0.005, volatility: 0.30}, // Placeholder, adjust as needed
        "XRP": {basePrice: 0.50, volatility: 0.08},
        "JPY_IDX": {basePrice: 100.00, volatility: 0.005},
        "FR40": {basePrice: 7800.00, volatility: 0.01},
        "UK100": {basePrice: 8200.00, volatility: 0.009},
        "US2000": {basePrice: 2000.00, volatility: 0.012},
        "GER30/UK100": {basePrice: 16000.00, volatility: 0.011},
        "SP35": {basePrice: 11000.00, volatility: 0.01},
        "US30": {basePrice: 39000.00, volatility: 0.008},
        "US500/JP225": {basePrice: 25000.00, volatility: 0.01},
        "USD_IDX": {basePrice: 105.00, volatility: 0.004},
        "US500": {basePrice: 5200.00, volatility: 0.009},
        "GER30": {basePrice: 18000.00, volatility: 0.01},
        "US30/JP225": {basePrice: 28000.00, volatility: 0.01},
        "JP225": {basePrice: 38000.00, volatility: 0.01},
        "HK33": {basePrice: 18000.00, volatility: 0.015},
        "AUS200": {basePrice: 7800.00, volatility: 0.009},
        "JPM": {basePrice: 190.00, volatility: 0.03},
        "NFLX/AMZN": {basePrice: 250.00, volatility: 0.05},
        "NVDA/AMD": {basePrice: 1000.00, volatility: 0.07},
        "AIG": {basePrice: 70.00, volatility: 0.02},
        "BIDU": {basePrice: 110.00, volatility: 0.04},
        "INTC": {basePrice: 30.00, volatility: 0.03},
        "AMZN/EBAY": {basePrice: 180.00, volatility: 0.04},
        "AMZN/BABA": {basePrice: 150.00, volatility: 0.05},
        "BABA": {basePrice: 75.00, volatility: 0.04},
        "C": {basePrice: 60.00, volatility: 0.03},
        "META/GOOGL": {basePrice: 200.00, volatility: 0.06},
        "MCD": {basePrice: 260.00, volatility: 0.02},
        "KO": {basePrice: 62.00, volatility: 0.01},
        "GS": {basePrice: 400.00, volatility: 0.03},
        "GOOGL/MSFT": {basePrice: 180.00, volatility: 0.05},
        "TSLA/F": {basePrice: 200.00, volatility: 0.07},
        "MS": {basePrice: 90.00, volatility: 0.03},
        "MSFT": {basePrice: 420.00, volatility: 0.04},
        "INTC/IBM": {basePrice: 100.00, volatility: 0.03},
        "MSFT/AAPL": {basePrice: 250.00, volatility: 0.05},
        "EUR/USD": {basePrice: 1.08, volatility: 0.003},
        "BTC/USD": {basePrice: 65000.00, volatility: 0.05},
        "ETH/USD": {basePrice: 3500.00, volatility: 0.06},
        "AAPL": {basePrice: 170.00, volatility: 0.03},
        "GOOGL": {basePrice: 175.00, volatility: 0.04}
    };


    // Function to populate the asset selector dropdown
    function populateAssetSelector(category) {
        assetSelector.innerHTML = '<option value="">Select an asset...</option>'; // Clear existing options
        let assetsToDisplay = [];

        if (category === "All") {
            for (const cat in allAssets) {
                if (allAssets.hasOwnProperty(cat)) {
                    assetsToDisplay = assetsToDisplay.concat(allAssets[cat]);
                }
            }
        } else {
            assetsToDisplay = allAssets[category];
        }

        if (assetsToDisplay) {
            assetsToDisplay.forEach(asset => {
                const option = document.createElement('option');
                // Store the original name in the value, but display without (OTC) if present
                option.value = JSON.stringify(asset);
                option.textContent = `${asset.name.replace(' (OTC)', '')} (OTC)`; // Keep (OTC) in dropdown for clarity
                assetSelector.appendChild(option);
            });
        }
        else {
            // If no assets, clear info panel
            currentAsset = null;
            signalContainer.classList.add('hidden');
            noSignalContainer.classList.remove('hidden');
            selectedAssetInfo.textContent = 'Select an asset to view details';
            currentAssetName.textContent = '---';
            currentAssetType.textContent = 'OTC'; // Reset to default if no asset selected
            currentPrice.textContent = '---';
            currentChange.textContent = '---';
            currentLiquidity.textContent = 'Medium';
        }
    }

    // Function to check network status and update UI
    function checkNetworkStatus() {
        if (navigator.onLine) {
            connectionIndicator.classList.remove('bg-red-500');
            connectionIndicator.classList.add('bg-green-500');
            connectionStatus.textContent = 'Connected';
            btnStartLive.disabled = false;
            btnStartLive.classList.remove('bg-gray-400', 'cursor-not-allowed');
            networkStatusMessage.classList.add('hidden');
        } else {
            connectionIndicator.classList.remove('bg-green-500');
            connectionIndicator.classList.add('bg-red-500');
            connectionStatus.textContent = 'Disconnected';
            btnStartLive.disabled = true;
            btnStartLive.classList.add('bg-gray-400', 'cursor-not-allowed');
            networkStatusMessage.classList.remove('hidden');
            if (isLive) {
                stopLiveSignals();
            }
            assetSelector.disabled = true;
            assetSelector.classList.add('bg-gray-200', 'cursor-not-allowed');
        }
    }

    // Function to stop live signals
    function stopLiveSignals() {
        isLive = false;
        btnStartLive.textContent = 'Start Live Signals';
        btnStartLive.classList.remove('bg-red-600', 'hover:bg-red-700');
        btnStartLive.classList.add('bg-green-600', 'hover:bg-green-700');

        clearInterval(timerInterval);
        clearInterval(signalInterval);
        countdown.textContent = '--:--';
        progressBar.style.width = '0%';
        currentSignalText.textContent = 'Waiting for signal...';
        signalVisual.textContent = '---';
        signalVisual.className = 'w-40 h-40 rounded-full bg-gray-200 flex items-center justify-center text-2xl font-bold';
        signalHistory.innerHTML = '<div class="text-center py-4 text-gray-500">No signals yet</div>';
        callScore.textContent = '0';
        callSignal.textContent = 'Loading signal...';
        callStrengthMeter.style.width = '0%';
        callAction.textContent = '---';
        putScore.textContent = '0';
        putSignal.textContent = 'Loading signal...';
        putStrengthMeter.style.width = '0%';
        putAction.textContent = '---';
        trend1.textContent = ' Loading trend data...';
        trend2.textContent = '';
        trend3.textContent = '';
        volume1.textContent = ' Loading volume data...';
        volume2.textContent = '';
        volume3.textContent = '';
    }

    // Format Currency (Updated for INR)
    function formatCurrency(value) {
        if (value < 1 && value !== 0) {
            return new Intl.NumberFormat('en-IN', {
                style: 'currency',
                currency: 'INR',
                minimumFractionDigits: 4,
                maximumFractionDigits: 8
            }).format(value);
        } else {
            return new Intl.NumberFormat('en-IN', {
                style: 'currency',
                currency: 'INR',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(value);
        }
    }

    // Function to fetch real-time data (conceptual placeholder)
    async function fetchRealTimeData(symbol) {
        return generateOTCRandomPrice(symbol);
    }

    // Generate Random Price Movement (more realistic for OTC)
    function generateOTCRandomPrice(symbol) {
        const asset = assetDetails[symbol] || {basePrice: 10, volatility: 0.05};
        const changePercent = (Math.random() * 2 * asset.volatility) - asset.volatility;
        const changeAmount = asset.basePrice * changePercent;
        const newPrice = asset.basePrice + changeAmount;

        asset.basePrice = newPrice * (1 + ((Math.random() * 0.04) - 0.02)); // Slight momentum

        return {
            price: newPrice,
            change: changeAmount,
            changePercent: changePercent * 100
        };
    }

    // Generate Detailed Signal for OTC Assets
    function generateDetailedOTCSignal(symbol) {
        const asset = assetDetails[symbol] || {volatility: 0.05};

        let callVal = 50 + (Math.random() * 50 - 25);
        let putVal = 50 + (Math.random() * 50 - 25);

        callVal += asset.volatility * 100;
        putVal += asset.volatility * 100;

        callVal = Math.max(0, Math.min(100, callVal));
        putVal = Math.max(0, Math.min(100, putVal));

        const callRecommendation = callVal > 65 ? "Strong Buy" : callVal > 55 ? "Buy" : callVal > 45 ? "Neutral" : "Avoid";
        const putRecommendation = putVal > 65 ? "Strong Sell" : putVal > 55 ? "Sell" : putVal > 45 ? "Neutral" : "Avoid";

        const timeframes = ["15min", "30min"]; // Removed "1hr"
        const timeframe = timeframes[Math.floor(Math.random() * timeframes.length)];

        return {
            callScore: Math.round(callVal),
            putScore: Math.round(putVal),
            callSignal: getOTCSignalText(callVal),
            putSignal: getOTCSignalText(putVal),
            callStrength: getOTCStrengthText(callVal),
            putStrength: getOTCStrengthText(putVal),
            callRecommendation: callRecommendation,
            putRecommendation: putRecommendation,
            timeframe: timeframe,
            trends: generateTrendAnalysis(),
            volumes: generateVolumeAnalysis()
        };
    }

    function getOTCSignalText(score) {
        if (score >= 80) return 'Extremely Bullish';
        if (score >= 70) return 'Very Bullish';
        if (score >= 60) return 'Bullish';
        if (score >= 50) return 'Mildly Bullish';
        if (score >= 40) return 'Neutral';
        if (score >= 30) return 'Mildly Bearish';
        if (score >= 20) return 'Bearish';
        return 'Very Bearish';
    }

    function getOTCStrengthText(score) {
        if (score >= 90) return 'Extremely Strong ';
        if (score >= 80) return 'Very Strong ';
        if (score >= 70) return 'Strong ';
        if (score >= 60) return 'Moderate ';
        if (score >= 50) return 'Mild ';
        return 'Very Weak';
    }

    function generateTrendAnalysis() {
        const trends = [
            "RSI showing " + (Math.random() > 0.5 ? "overbought" : "oversold") + " conditions",
            "MACD " + (Math.random() > 0.5 ? "bullish crossover" : "bearish divergence"),
            "Price " + (Math.random() > 0.5 ? "above" : "below") + " 20-day moving average"
        ];
        return trends;
    }

    function generateVolumeAnalysis() {
        const volumes = [
            "Volume " + (Math.random() > 0.5 ? "increasing" : "decreasing") + " with price movement",
            Math.random() > 0.5 ? "Unusual volume spike detected" : "Volume below 30-day average",
            "Order book shows " + (Math.random() > 0.5 ? "strong" : "weak") + " support at current levels"
        ];
        return volumes;
    }

    // Simulate Live Connection
    function simulateConnection() {
        connectionIndicator.classList.remove('bg-gray-400', 'bg-green-500', 'bg-red-500');
        connectionStatus.textContent = 'Connecting...';

        setTimeout(() => {
            checkNetworkStatus();
            if (navigator.onLine) {
                if (currentAsset && currentAsset.symbol) {
                    const liquidity = ['Low', 'Medium', 'High'][Math.floor(Math.random() * 3)];
                    currentLiquidity.textContent = liquidity;
                }
            }
        }, 1500);
    }

    // Update Timer Display
    function updateTimer() {
        timeLeft--;

        if (timeLeft <= 0) {
            timeLeft = 0;
            clearInterval(timerInterval);
            generateNewSignal();
            startCountdown();
        }

        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        if (totalTime >= 60) {
            countdown.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        } else {
            countdown.textContent = `${timeLeft.toString().padStart(2, '0')}`;
        }

        const progressPercent = (timeLeft / totalTime) * 100;
        progressBar.style.width = `${progressPercent}%`;
    }

    // Start Countdown
    function startCountdown() {
        const timerSelect = document.getElementById('signalTimer');
        totalTime = parseInt(timerSelect.value) / 1000;
        timeLeft = totalTime;

        if (timerInterval) clearInterval(timerInterval);
        timerInterval = setInterval(updateTimer, 1000);
        updateTimer();
    }

    // Function to speak text
    function speakSignal(text) {
        if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US'; // You can change this to 'hi-IN' for Hindi if a suitable voice is available
            speechSynthesis.speak(utterance);
        } else {
            console.warn("Speech Synthesis not supported in this browser.");
        }
    }

    // Generate New Signal
    async function generateNewSignal() {
        if (!currentAsset || !navigator.onLine) {
            stopLiveSignals();
            return;
        }

        const priceData = await fetchRealTimeData(currentAsset.symbol);
        currentPriceValue = priceData.price;

        currentPrice.textContent = formatCurrency(priceData.price);

        const changeValue = formatCurrency(Math.abs(priceData.change));
        currentChange.textContent = `${priceData.change >= 0 ? '+' : '-'}${changeValue} (${priceData.changePercent.toFixed(2)}%)`;
        currentChange.className = priceData.change >= 0 ? 'text-xl font-bold text-green-600' : 'text-xl font-bold text-red-600';

        const signal = generateDetailedOTCSignal(currentAsset.symbol);

        callScore.textContent = signal.callScore;
        callSignal.textContent = signal.callSignal;
        callStrengthMeter.style.width = `${signal.callScore}%`;
        callAction.textContent = signal.callRecommendation;
        callTimeframe.textContent = signal.timeframe;

        putScore.textContent = signal.putScore;
        putSignal.textContent = signal.putSignal;
        putStrengthMeter.style.width = `${signal.putScore}%`;
        putAction.textContent = signal.putRecommendation;
        putTimeframe.textContent = signal.timeframe;

        const signalDifference = signal.callScore - signal.putScore;
        let signalText = 'Neutral';
        let signalColor = 'gray';
        let spokenSignal = ''; // Variable to hold the text to be spoken

        if (signalDifference > 30) {
            signalText = 'Strong Call Opportunity';
            signalColor = 'green';
            spokenSignal = 'Call';
        } else if (signalDifference > 15) {
            signalText = 'Call Opportunity';
            signalColor = 'green';
            spokenSignal = 'Call';
        } else if (signalDifference < -30) {
            signalText = 'Strong Put Opportunity';
            signalColor = 'red';
            spokenSignal = 'Put';
        } else if (signalDifference < -15) {
            signalText = 'Put Opportunity';
            signalColor = 'red';
            spokenSignal = 'Put';
        }

        currentSignalText.textContent = signalText;
        currentSignalText.className = `font-bold text-${signalColor}-600`;

        signalVisual.textContent = spokenSignal || '---'; // Display "Call" or "Put"
        signalVisual.className = `w-40 h-40 rounded-full flex items-center justify-center text-2xl font-bold bg-${signalColor}-100 text-${signalColor}-600 signal-animation`;

        // Speak the signal
        if (spokenSignal) {
            speakSignal(spokenSignal);
        }


        if (cbTrendAnalysis.checked) {
            trend1.textContent = ` ${signal.trends[0]}`;
            trend2.textContent = ` ${signal.trends[1]}`;
            trend3.textContent = ` ${signal.trends[2]}`;
        } else {
            trend1.textContent = ` Trend analysis disabled`;
            trend2.textContent = '';
            trend3.textContent = '';
        }

        if (cbVolumeAnalysis.checked) {
            volume1.textContent = ` ${signal.volumes[0]}`;
            volume2.textContent = ` ${signal.volumes[1]}`;
            volume3.textContent = ` ${signal.volumes[2]}`;
        } else {
            volume1.textContent = ` Volume analysis disabled`;
            volume2.textContent = '';
            volume3.textContent = '';
        }

        const now = new Date();
        const timeString = now.toLocaleTimeString();
        const historyItem = document.createElement('div');
        historyItem.className = 'py-2 px-3 border-b border-gray-100 hover:bg-gray-50';
        historyItem.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-xs font-medium ${signalDifference > 15 ? 'text-green-600' : signalDifference < -15 ? 'text-red-600' : 'text-gray-600'}">
                                ${timeString}: ${signalText}
                            </span>
                            <span class="block text-xs text-gray-500">${signal.timeframe} timeframe</span>
                        </div>
                        <div class="text-right">
                            <span class="text-xs font-medium">${currentAsset.symbol}</span>
                            <span class="block text-xs ${priceData.change >= 0 ? 'text-green-600' : 'text-red-600'}">
                                ${Math.abs(priceData.changePercent).toFixed(2)}%
                            </span>
                        </div>
                    </div>
                `;

        signalHistory.insertBefore(historyItem, signalHistory.firstChild);

        while (signalHistory.children.length > 8) {
            signalHistory.removeChild(signalHistory.lastChild);
        }
    }

    // Event Listeners
    assetSelector.addEventListener('change', (e) => {
        if (!e.target.value) {
            currentAsset = null;
            signalContainer.classList.add('hidden');
            noSignalContainer.classList.remove('hidden');
            selectedAssetInfo.textContent = 'Select an asset to view details';
            currentAssetName.textContent = '---';
            currentAssetType.textContent = 'OTC'; // Reset to default if no asset selected
            currentPrice.textContent = '---';
            currentChange.textContent = '---';
            currentLiquidity.textContent = 'Medium';
            return;
        }

        currentAsset = JSON.parse(e.target.value);
        // Remove "(OTC)" from the displayed asset name
        currentAssetName.textContent = `${currentAsset.name.replace(' (OTC)', '')} (${currentAsset.symbol})`;

        // Update currentAssetType based on the selected asset's type
        let assetTypeDisplay = currentAsset.type.toUpperCase();
        if (assetTypeDisplay === 'INDEX') { // Adjust 'index' to 'INDICES' for better display
            assetTypeDisplay = 'INDICES';
        }
        currentAssetType.textContent = assetTypeDisplay;

        // Update the background and text color of the asset type badge
        currentAssetType.classList.remove('bg-yellow-100', 'text-yellow-800', 'bg-blue-100', 'text-blue-800', 'bg-green-100', 'text-green-800', 'bg-red-100', 'text-red-800', 'bg-gray-100', 'text-gray-800'); // Remove all possible previous colors
        if (currentAsset.type === 'forex') {
            currentAssetType.classList.add('bg-blue-100', 'text-blue-800');
        } else if (currentAsset.type === 'crypto') {
            currentAssetType.classList.add('bg-yellow-100', 'text-yellow-800');
        } else if (currentAsset.type === 'index') {
            currentAssetType.classList.add('bg-green-100', 'text-green-800');
        } else if (currentAsset.type === 'stock') {
            currentAssetType.classList.add('bg-red-100', 'text-red-800');
        } else {
            currentAssetType.classList.add('bg-gray-100', 'text-gray-800'); // Default fallback
        }


        selectedAssetInfo.innerHTML = `
                    <strong>${currentAsset.name.replace(' (OTC)', '')}</strong><br>
                    ${currentAsset.description}<br>
                    <span class="text-xs mt-1 block">OTC Market - ${currentAsset.type.toUpperCase()}</span>
                `;

        if (assetDetails[currentAsset.symbol]) {
            currentPriceValue = assetDetails[currentAsset.symbol].basePrice;
            currentPrice.textContent = formatCurrency(currentPriceValue);

            const changePercent = (Math.random() * 2) - 1;
            const changeAmount = currentPriceValue * changePercent / 100;
            const changeValue = formatCurrency(Math.abs(changeAmount));

            currentChange.textContent = `${changePercent >= 0 ? '+' : '-'}${changeValue} (${changePercent.toFixed(2)}%)`;
            currentChange.className = changePercent >= 0 ? 'text-xl font-bold text-green-600' : 'text-xl font-bold text-red-600';
        } else {
            currentPriceValue = 0;
            currentPrice.textContent = '---';
            currentChange.textContent = '---';
            currentChange.className = 'text-xl font-bold';
        }

        signalContainer.classList.remove('hidden');
        noSignalContainer.classList.add('hidden');

        if (isLive && navigator.onLine) {
            clearInterval(signalInterval);
            simulateConnection();
            generateNewSignal();
            startCountdown();
        }
    });

    btnStartLive.addEventListener('click', () => {
        if (!navigator.onLine) {
            alert('No internet connection. Please connect to the internet to start live signals.');
            return;
        }
        if (!currentAsset) {
            alert('Please select an OTC asset first');
            return;
        }

        isLive = !isLive;

        if (isLive) {
            btnStartLive.textContent = 'Stop Live Signals';
            btnStartLive.classList.remove('bg-green-600', 'hover:bg-green-700');
            btnStartLive.classList.add('bg-red-600', 'hover:bg-red-700');

            simulateConnection();
            generateNewSignal();
            startCountdown();
        } else {
            stopLiveSignals();
        }
    });

    filterButtonsContainer.addEventListener('click', (event) => {
        if (event.target.tagName === 'BUTTON') {
            filterButtons.forEach(button => {
                button.classList.remove('selected-filter-button');
            });
            event.target.classList.add('selected-filter-button');

            const filterCategory = event.target.dataset.filter;
            populateAssetSelector(filterCategory);
        }
    });

    // Initial network status check
    checkNetworkStatus();

    // Listen for online/offline events
    window.addEventListener('online', () => {
        checkNetworkStatus();
        assetSelector.disabled = false;
        assetSelector.classList.remove('bg-gray-200', 'cursor-not-allowed');
    });
    window.addEventListener('offline', () => {
        checkNetworkStatus();
        assetSelector.disabled = true;
        assetSelector.classList.add('bg-gray-200', 'cursor-not-allowed');
    });

    // Initialize with "Popular" assets displayed
    populateAssetSelector('Popular');

    // Theme toggle functionality
    const btnThemeToggle = document.getElementById('btnThemeToggle');
    btnThemeToggle.addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
        if (document.documentElement.classList.contains('dark')) {
            btnThemeToggle.textContent = 'Light Theme';
            btnThemeToggle.classList.add('bg-gray-100', 'text-gray-800');
            btnThemeToggle.classList.remove('bg-gray-800', 'text-white');
        } else {
            btnThemeToggle.textContent = 'Dark Theme';
            btnThemeToggle.classList.add('bg-gray-800', 'text-white');
            btnThemeToggle.classList.remove('bg-gray-100', 'text-gray-800');
        }
    });

    // View mode toggle functionality
    const btnDesktopMode = document.getElementById('btnDesktopMode');
    const btnMobileMode = document.getElementById('btnMobileMode');

    btnDesktopMode.addEventListener('click', () => {
        document.querySelector('meta[name="viewport"]').content = 'width=1200, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, minimum-scale=0.5';

        const style = document.createElement('style');
        style.innerHTML = `
                html {
                    zoom: 1;
                    -moz-transform: scale(1);
                    -moz-transform-origin: 0 0;
                }
                body * {
                    transform-origin: 0 0;
                }
            `;
        document.head.appendChild(style);
        btnDesktopMode.classList.add('bg-blue-100', 'border-blue-300', 'text-blue-700');
        btnDesktopMode.classList.remove('bg-gray-100', 'border-gray-300', 'text-gray-700');
        btnMobileMode.classList.add('bg-gray-100', 'border-gray-300', 'text-gray-700');
        btnMobileMode.classList.remove('bg-blue-100', 'border-blue-300', 'text-blue-700');
    });

    btnMobileMode.addEventListener('click', () => {
        document.querySelector('meta[name="viewport"]').content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no';
        document.querySelectorAll('style').forEach(style => {
            if (style.innerHTML.includes('transform-origin')) {
                style.remove();
            }
        });
        btnMobileMode.classList.add('bg-blue-100', 'border-blue-300', 'text-blue-700');
        btnMobileMode.classList.remove('bg-gray-100', 'border-gray-300', 'text-gray-700');
        btnDesktopMode.classList.add('bg-gray-100', 'border-gray-300', 'text-gray-700');
        btnDesktopMode.classList.remove('bg-blue-100', 'border-blue-300', 'text-blue-700');
    });

    function downloadPage() {
        const htmlContent = document.documentElement.outerHTML;
        const blob = new Blob([htmlContent], {type: 'text/html'});
        const url = URL.createObjectURL(blob);

        const a = document.createElement('a');
        a.href = url;
        a.download = 'trading-signal-dashboard.html';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }
</script>
<footer class="fixed bottom-0 w-full py-4 text-center text-gray-600 bg-white border-t border-gray-200">
    <p>Created by RAJAT JANGID</p>
</footer>
<script src="cordova.js"></script>


<script>
    const API_KEY = 'A8YRI2D4N6IXKJ4I';

    async function fetchLiveSignal() {
        const symbol = document.getElementById("symbol")?.value || 'BTC';
        const interval = document.getElementById("interval")?.value || '1min';
        const market = document.getElementById("market")?.value || 'crypto';
        let url = "";

        if (market === 'crypto') {
            url = `https://www.alphavantage.co/query?function=CRYPTO_INTRADAY&symbol=${symbol}&market=USD&interval=${interval}&apikey=${API_KEY}`;
        } else if (market === 'forex') {
            const [from, to] = symbol.split('/');
            url = `https://www.alphavantage.co/query?function=FX_INTRADAY&from_symbol=${from}&to_symbol=${to}&interval=${interval}&apikey=${API_KEY}`;
        } else {
            url = `https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${symbol}&interval=${interval}&apikey=${API_KEY}`;
        }

        try {
            const res = await fetch(url);
            const data = await res.json();
            const timeSeriesKey = Object.keys(data).find(k => k.includes("Time Series"));
            if (!timeSeriesKey || !data[timeSeriesKey]) {
                throw new Error("Invalid response");
            }
            const series = data[timeSeriesKey];
            const times = Object.keys(series);
            if (times.length >= 2) {
                const latest = series[times[0]];
                const prev = series[times[1]];
                const latestOpen = parseFloat(latest["1. open"]);
                const prevOpen = parseFloat(prev["1. open"]);
                const signal = latestOpen > prevOpen ? "CALL" : "PUT";

                const signalEl = document.getElementById("signal");
                if (signalEl) {
                    signalEl.innerText = signal;
                    signalEl.style.color = signal === "CALL" ? "green" : "red";
                }

                const circle = document.getElementById("positionCircle");
                if (circle) {
                    circle.innerText = signal;
                    circle.style.backgroundColor = signal === "CALL" ? "#ccffcc" : "#ffcccc";
                    circle.style.color = signal === "CALL" ? "green" : "red";
                }
            }
        } catch (e) {
            const signalEl = document.getElementById("signal");
            if (signalEl) {
                signalEl.innerText = "API error";
                signalEl.style.color = "red";
            }
        }
    }

    // Auto-fetch every 30s
    setInterval(fetchLiveSignal, 30000);
    window.addEventListener("load", fetchLiveSignal);
</script>
<!-- Page content khatam hone ke baad -->
  <script>
    window.addEventListener("load", function () {
      const loader = document.getElementById("preloader");
      loader.style.opacity = "0";
      loader.style.transition = "opacity 0.5s ease";
      setTimeout(() => loader.style.display = "none", 500);
    });
  </script>
</body>
</html>



          
        </body></html>
